{"version":3,"sources":["table.js","headerConfig.js","pagination.js","App.js","index.js"],"names":["Table","releasesData","headerConfig","onSearch","className","type","id","placeholder","title","onChange","map","header","headerIndex","style","width","name","song","index","hindex","keyValue","config","Pagination","paginationInfo","handlePageChnage","pagelist","pages","i","push","href","onClick","event","page","App","useState","songs","setReleases","tableConfig","per_page","setPagination","active","activePages","setActivePagination","activeArtistID","setActiveArtistID","useEffect","axios","get","then","response","data","releases","pagination","target","value","trim","length","window","timeOut","clearTimeout","setTimeout","console","log","release","nextPage","preventDefault","rootElement","document","getElementById","ReactDOM","render"],"mappings":"oMAEe,SAASA,EAAT,GAA0D,IAAzCC,EAAwC,EAAxCA,aAAcC,EAA0B,EAA1BA,aAAcC,EAAY,EAAZA,SAC1D,OACE,sBAAKC,UAAU,QAAf,UACE,uBACEC,KAAK,OACLC,GAAG,UACHC,YAAY,qBACZC,MAAM,iBACNC,SAAUN,IAEZ,uBAAOG,GAAG,UAAV,SACE,kCACE,oBAAIF,UAAU,SAAd,SACGF,EAAaQ,KAAI,SAACC,EAAQC,GACzB,OACE,oBAEEC,MAAO,CAAEC,MAAOH,EAAOG,OAFzB,SAIGH,EAAOI,MAJV,iBACiBH,SAQtBX,EAAaS,KAAI,SAACM,EAAMC,GACvB,OACE,6BACGf,EAAaQ,KAAI,SAACC,EAAQO,GACzB,OACE,6BAAiCF,EAAKL,EAAOQ,WAA7C,oBAAsBD,QAH5B,gBAAkBD,eC5BhC,IAAMG,EAAS,CACb,CACEL,KAAM,QACNI,SAAU,QACVL,MAAO,OAET,CACEC,KAAM,QACNI,SAAU,QACVL,MAAO,OAET,CACEC,KAAM,aACNI,SAAU,YACVL,MAAO,OAET,CACEC,KAAM,OACNI,SAAU,OACVL,MAAO,QCjBI,SAASO,EAAT,GAA2D,IAArCC,EAAoC,EAApCA,eAAgBC,EAAoB,EAApBA,iBAC7CC,EAAW,GACjB,IAAKF,EAAeG,MAClB,OAAO,KAET,IALuE,eAK9DC,GACPF,EAASG,KACP,mBACEC,KAAK,IAELC,QAAS,SAACC,GAAD,OAAWP,EAAiBO,EAAOJ,IAC5CtB,UAAWsB,IAAMJ,EAAeS,KAAO,SAAW,UAJpD,SAMGL,GANH,eAEeA,MAJVA,EAAI,EAAGA,GAAKJ,EAAeG,MAAOC,IAAM,EAAxCA,GAYT,OACE,qBAAKtB,UAAU,aAAf,SACE,qBAAKA,UAAU,aAAf,SAA6BoB,MCbpB,SAASQ,IACtB,MAA6BC,mBAAS,IAAtC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAsCF,mBAASb,GAA/C,mBAAOgB,EAAP,KAEA,GAFA,KAE+BH,mBAAS,CACtCF,KAAM,EACNM,SAAU,MAFZ,mBAAOZ,EAAP,KAAca,EAAd,KAKA,EAA2CL,mBAAS,CAClDM,OAAQ,IADV,mBAAOC,EAAP,KAAoBC,EAApB,KAIA,EAA4CR,mBAAS,GAArD,mBAAOS,EAAP,KAAuBC,EAAvB,KAgBAC,qBAAU,WAbRC,IACGC,IADH,+BAE4BJ,EAF5B,iBAEmDF,EAAYD,OAF/D,qBAEkFd,EAAMY,WAErFU,MAAK,SAACC,GACL,MAEIA,EADFC,KAAQC,EADV,EACUA,SAAUC,EADpB,EACoBA,WAEpBhB,EAAYe,GACZZ,EAAca,QAMjB,CAACX,IA2BJ,OACE,sBAAKpC,UAAU,MAAf,UACE,cAACJ,EAAD,CACEE,aAAckC,EACdnC,aAAciC,EACd/B,SAzBW,SAAC2B,GAEkB,KAA9BA,EAAMsB,OAAOC,MAAMC,QAAiBxB,EAAMsB,OAAOC,MAAME,OAAS,IAGhEC,OAAOC,SACTC,aAAaF,OAAOC,SAEtBD,OAAOC,QAAUE,YAAW,WAC1Bd,IAAMC,IAAN,2BAA8BhB,EAAMsB,OAAOC,QAASN,MAAK,SAACC,GACxDY,QAAQC,IAAIb,GACZ,IAAQC,EAASD,EAATC,KAERN,EAAkBM,EAAK3C,IACvB6B,EAAYc,EAAKa,QAAQZ,UACzBZ,EAAcW,EAAKa,QAAQX,iBAE5B,SAUD,cAAC9B,EAAD,CACEC,eAAgBG,EAChBF,iBAlCmB,SAACO,EAAOiC,GAC/BjC,EAAMkC,iBACNvB,EAAoB,2BAAKD,GAAN,IAAmBD,OAAQwB,WCtClD,IAAME,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAACrC,EAAD,MAEFiC,K","file":"static/js/main.bbda256b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Table({ releasesData, headerConfig, onSearch }) {\r\n  return (\r\n    <div className=\"Table\">\r\n      <input\r\n        type=\"text\"\r\n        id=\"myInput\"\r\n        placeholder=\"Search for names..\"\r\n        title=\"Type in a name\"\r\n        onChange={onSearch}\r\n      ></input>\r\n      <table id=\"myTable\">\r\n        <tbody>\r\n          <tr className=\"header\">\r\n            {headerConfig.map((header, headerIndex) => {\r\n              return (\r\n                <th\r\n                  key={`header_${headerIndex}`}\r\n                  style={{ width: header.width }}\r\n                >\r\n                  {header.name}\r\n                </th>\r\n              );\r\n            })}\r\n          </tr>\r\n          {releasesData.map((song, index) => {\r\n            return (\r\n              <tr key={`songs_${index}`}>\r\n                {headerConfig.map((header, hindex) => {\r\n                  return (\r\n                    <td key={`dataIndex_${hindex}`}>{song[header.keyValue]}</td>\r\n                  );\r\n                })}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n","const config = [\r\n  {\r\n    name: \"Label\",\r\n    keyValue: \"label\",\r\n    width: \"30%\",\r\n  },\r\n  {\r\n    name: \"Title\",\r\n    keyValue: \"title\",\r\n    width: \"30%\",\r\n  },\r\n  {\r\n    name: \"Track Info\",\r\n    keyValue: \"trackinfo\",\r\n    width: \"30%\",\r\n  },\r\n  {\r\n    name: \"Year\",\r\n    keyValue: \"year\",\r\n    width: \"10%\",\r\n  },\r\n];\r\n\r\nexport { config };\r\n","import React from \"react\";\r\n\r\nexport default function Pagination({ paginationInfo, handlePageChnage }) {\r\n  const pagelist = [];\r\n  if (!paginationInfo.pages) {\r\n    return null;\r\n  }\r\n  for (let i = 1; i <= paginationInfo.pages; i++) {\r\n    pagelist.push(\r\n      <a\r\n        href=\"#\"\r\n        key={`page_${i}`}\r\n        onClick={(event) => handlePageChnage(event, i)}\r\n        className={i === paginationInfo.page ? \"active\" : \"passive\"}\r\n      >\r\n        {i}\r\n      </a>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"pagination\">\r\n      <div className=\"pagination\">{pagelist}</div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./styles.css\";\r\nimport axios from \"axios\";\r\nimport { get } from \"./axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Table from \"./table\";\r\nimport { config, searchConfig } from \"./headerConfig\";\r\nimport Pagination from \"./pagination\";\r\n\r\nexport default function App() {\r\n  const [songs, setReleases] = useState([]);\r\n  const [tableConfig, setTableConfig] = useState(config);\r\n\r\n  const [pages, setPagination] = useState({\r\n    page: 1,\r\n    per_page: 30,\r\n  });\r\n\r\n  const [activePages, setActivePagination] = useState({\r\n    active: 1,\r\n  });\r\n\r\n  const [activeArtistID, setActiveArtistID] = useState(1);\r\n\r\n  const updatePage = () => {\r\n    axios\r\n      .get(\r\n        `getArtist/releses?id=${activeArtistID}&page=${activePages.active}&per_page=${pages.per_page}`\r\n      )\r\n      .then((response) => {\r\n        const {\r\n          data: { releases, pagination },\r\n        } = response;\r\n        setReleases(releases);\r\n        setPagination(pagination);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    updatePage();\r\n  }, [activePages]);\r\n\r\n  const handlePageChnage = (event, nextPage) => {\r\n    event.preventDefault();\r\n    setActivePagination({ ...activePages, active: nextPage });\r\n  };\r\n\r\n  const onSearch = (event) => {\r\n    // just quick way to avoid server request multiple time\r\n    if (event.target.value.trim() === \"\" || event.target.value.length < 3) {\r\n      return;\r\n    }\r\n    if (window.timeOut) {\r\n      clearTimeout(window.timeOut);\r\n    }\r\n    window.timeOut = setTimeout(() => {\r\n      axios.get(`getArtist?search=${event.target.value}`).then((response) => {\r\n        console.log(response);\r\n        const { data } = response;\r\n\r\n        setActiveArtistID(data.id);\r\n        setReleases(data.release.releases);\r\n        setPagination(data.release.pagination);\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Table\r\n        headerConfig={tableConfig}\r\n        releasesData={songs}\r\n        onSearch={onSearch}\r\n      ></Table>\r\n      <Pagination\r\n        paginationInfo={pages}\r\n        handlePageChnage={handlePageChnage}\r\n      ></Pagination>\r\n    </div>\r\n  );\r\n}\r\n","import { StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}